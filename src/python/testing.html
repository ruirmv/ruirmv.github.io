<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testing</title>
    <link rel="stylesheet" href="https://ruirmv.github.io/style/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Google+Sans:400,500,700|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
</head>

<body>
    <main>
        <h1>Testing</h1>

        <ul>
            <li>Confirms existing code works as expected</li>
            <li>Ensures future changes don't break existing code</li>
        </ul>

        <p>There are different kinds of tests:</p>
        <ul>
            <li>Unit - fast - should cover all edge cases</li>
            <li>Integration - medium</li>
            <li>End-to-End - slow</li>
        </ul>
        <div class="comment">Write tests with the built-in <strong>unittest</strong> only.</div>

        <h2>Conventions</h2>

        <p>1. The first argument of asserts is always the expected value.</p>
        <code class="block">self.assertEqual(expected, actual)</code>

        <p>2. Write table tests whenever possible, as it's easier to add test cases later. See the pattern.</p>
        <code class="block">import unittest
from dataclasses import dataclass

class TestClass(unittest.TestCase):

def test_case(self):
        @dataclass(frozen=True)
        class Test:
            name: str
            data: Type
            expected: Type

        tests = [
            Test(
                ...
            ),
            ...
        ]
                for test in tests:
            with self.subTest(test.name):
                actual = ...
                self.assertEqual(test.expected, actual)
</code>

        <h2>unittest</h2>

        <p>To test exceptions, use the following code snippet.</p>
        <code class="block">...
for test in tests:
with self.subTest(test.name), self.assertRaises(test.expected):
        action(test.data, ...)
</code>

        <h2>Runners</h2>
        <p>Whenever possible, you should use the <strong>pydest-xdist</strong> runner to ensure the tests run in
            parallel.</p>

        <div class="comment">Pycharm only identifies subtest output properly if using the <strong>unittest</strong>
            runner.</div>
    </main>
</body>

</html>